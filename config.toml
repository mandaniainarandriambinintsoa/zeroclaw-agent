# ZeroClaw Configuration - Agent Autonome
# OpenAI gpt-4o-mini (primary) + Groq (fallback gratuit)

# API key resolved per-provider via env vars:
# OPENAI_API_KEY for openai, GROQ_API_KEY for groq

# LLM Provider: OpenAI gpt-4o-mini (~$0.20/1000 messages)
default_provider = "openai"
default_model = "gpt-4o-mini"
default_temperature = 0.6

# ── Agent Settings ──────────────────────────────────────────
[agent]
compact_context = true
max_tool_iterations = 30
max_history_messages = 50
tool_dispatcher = "auto"

# ── Fallback: Groq (gratuit) si OpenAI down ────────────────
[reliability]
fallback_providers = ["groq"]
provider_retries = 2
provider_backoff_ms = 1000

[reliability.model_fallbacks]
"gpt-4o-mini" = ["llama-3.3-70b-versatile", "llama-3.1-8b-instant"]

# ── Gateway (required for Render) ──────────────────────────
[gateway]
port = 3000
host = "[::]"
allow_public_bind = true
require_pairing = false

# ── Autonomy ───────────────────────────────────────────────
[autonomy]
level = "full"
workspace_only = false
allowed_commands = ["git", "gh", "curl", "ls", "cat", "grep", "find", "echo",
                    "pwd", "wc", "head", "tail", "mkdir", "cp", "mv", "rm",
                    "chmod", "tar", "unzip", "sed", "awk", "sort", "diff",
                    "sh", "bash"]
forbidden_paths = ["/etc/shadow", "/etc/passwd", "/root/.ssh"]
max_actions_per_hour = 200
max_cost_per_day_cents = 0
require_approval_for_medium_risk = false
block_high_risk_commands = false
auto_approve = ["file_read", "file_write", "memory_recall", "memory_store",
                "web_search_tool", "http_request", "git_operations", "shell"]

# ── Web Search ───────────────────────────────────────────────
[web_search]
enabled = true
provider = "duckduckgo"
max_results = 5

# ── HTTP Requests ────────────────────────────────────────────
[http_request]
enabled = true
timeout_secs = 30
allowed_domains = [
    "gmail.googleapis.com",
    "www.googleapis.com",
    "oauth2.googleapis.com",
    "api.github.com",
    "sheets.googleapis.com",
    "docs.googleapis.com",
    "drive.googleapis.com",
    "calendar.googleapis.com",
    "people.googleapis.com",
    "youtube.googleapis.com",
    "www.blogger.com",
    "tasks.googleapis.com",
    "slides.googleapis.com"
]

# ── Memory (SQLite - lightweight, no external deps) ────────
[memory]
backend = "sqlite"
auto_save = true
embedding_provider = "none"

# ── Channel Timeout ──────────────────────────────────────────
[channels_config]
cli = true
message_timeout_secs = 60

# ── Telegram Channel ────────────────────────────────────────
[channels_config.telegram]
bot_token = ""
allowed_users = ["8202028798"]
interrupt_on_new_message = true
mention_only = false
